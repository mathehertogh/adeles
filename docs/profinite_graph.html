
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profinite Graphs &#8212; Computing with adèles and idèles</title>
    <link rel="stylesheet" href="_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Adèlic Matrix Factorization" href="matrix.html" />
    <link rel="prev" title="Profinite Functions" href="profinite_function.html" />
    <link rel="icon" href="_static/sageicon.png" type="image/x-icon" />
    <script src="_static/thebe.js" type="text/javascript"></script>
    <script src="_static/thebe-sage.js" type="text/javascript"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="matrix.html" title="Adèlic Matrix Factorization"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="profinite_function.html" title="Profinite Functions"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../index.html"><img src="_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="index.html">Home</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Profinite Graphs</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-adeles.profinite_graph">
<span id="profinite-graphs"></span><h1>Profinite Graphs<a class="headerlink" href="#module-adeles.profinite_graph" title="Permalink to this headline">¶</a></h1>
<p>Profinite Graph</p>
<p>Let <span class="math notranslate nohighlight">\(F: \hat{\ZZ} \to \hat{\ZZ}\)</span> be a function and let <span class="math notranslate nohighlight">\(P\)</span> be a
<code class="xref py py-class docutils literal notranslate"><span class="pre">profinite_function.ProfiniteFunction</span></code> implementing <span class="math notranslate nohighlight">\(F\)</span>. This file
implements interactive profinite graphs in the class <a class="reference internal" href="#adeles.profinite_graph.ProfiniteGraph" title="adeles.profinite_graph.ProfiniteGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProfiniteGraph</span></code></a>:
a user can view arbitrarily high precision approximations of the graph
<span class="math notranslate nohighlight">\(\{(x, F(x)) \mid x \in \hat{\ZZ}\}\)</span> of <span class="math notranslate nohighlight">\(F\)</span> by zooming in and out.</p>
<p>We use the class <code class="xref py py-class docutils literal notranslate"><span class="pre">profinite_integer.ProfiniteIntegers</span></code> as our
implementation of <span class="math notranslate nohighlight">\(\hat{\ZZ}\)</span> and by a profinite integer we shall mean an
instance of <code class="docutils literal notranslate"><span class="pre">Zhat</span></code>, i.e. <code class="docutils literal notranslate"><span class="pre">ProfiniteIntegers(QQ)</span></code>. Also by <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">mod</span> <span class="pre">6</span></code> we
shall mean the profinite integer <code class="docutils literal notranslate"><span class="pre">Zhat(3,</span> <span class="pre">6)</span></code>.</p>
<p>In this file we use the character ‘!’ to mean factorial (e.g. <span class="math notranslate nohighlight">\(4!\)</span> is <span class="math notranslate nohighlight">\(24\)</span>).</p>
<div class="section" id="factorial-digits">
<h2>Factorial digits<a class="headerlink" href="#factorial-digits" title="Permalink to this headline">¶</a></h2>
<p>Every <span class="math notranslate nohighlight">\(\alpha \in \hat{\ZZ}\)</span> is uniquely determined by its <em>factorial digits</em>,
which are the unique integers <span class="math notranslate nohighlight">\(d_1, d_2, d_3, d_4, ... \in \ZZ\)</span> satisfying
<span class="math notranslate nohighlight">\(0 \leq d_k \leq k\)</span> and <span class="math notranslate nohighlight">\(\alpha \equiv \sum_{i=1}^k d_i \cdot i! \mod
(k+1)!\hat{\ZZ}\)</span> for every <span class="math notranslate nohighlight">\(k \in \ZZ_{\geq 1}\)</span>. Knowing the first <span class="math notranslate nohighlight">\(k\)</span> factorial
digits of <span class="math notranslate nohighlight">\(\alpha\)</span> corresponds to knowing <span class="math notranslate nohighlight">\(\alpha\)</span> modulo <span class="math notranslate nohighlight">\((k+1)!\)</span>. These
factorial digits are implemented in <code class="docutils literal notranslate"><span class="pre">Zhat</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sage: a = Zhat([1, 2, 1, 1]); a
35 mod 120
sage: print(a.str(style=&#39;factorial&#39;))
1*1! + 2*2! + 1*3! + 1*4! + O(5!)
sage: a.factorial_digits()
[1, 2, 1, 1]
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sage: b = Zhat([1, 2, 1, 1, 0, 0]); b
35 mod 5040
sage: print(b.str(style=&#39;factorial&#39;))
1*1! + 2*2! + 1*3! + 1*4! + O(7!)
sage: b.factorial_digits()
[1, 2, 1, 1, 0, 0]
</pre></div>
</div>
</div>
<div class="section" id="the-visualization-function">
<h2>The visualization function<a class="headerlink" href="#the-visualization-function" title="Permalink to this headline">¶</a></h2>
<p>We define the <em>visualization function</em> to be the map <span class="math notranslate nohighlight">\(\phi: \hat{\ZZ} \to
[0, 1]\)</span> (where <span class="math notranslate nohighlight">\([0, 1] \subset \RR\)</span> denotes the unit interval) defined by
<span class="math notranslate nohighlight">\(\phi(\alpha) = \sum_{i=1}^\infty d_i / (i+1)!\)</span> for <span class="math notranslate nohighlight">\(d_i\)</span> the factorial digits
of <span class="math notranslate nohighlight">\(\alpha\)</span>.</p>
<p>It is illustrative to verify the equalities <span class="math notranslate nohighlight">\(\phi(1+2\hat{\ZZ}) = [1/2, 1]\)</span> and
<span class="math notranslate nohighlight">\(\phi(2+3\hat{\ZZ}) = [1/6, 1/3] \cup [5/6, 1]\)</span>. Can you determine
<span class="math notranslate nohighlight">\(\phi(8+24\hat{\ZZ})\)</span>?</p>
<p>The visualization function enables us to visualize the ring <span class="math notranslate nohighlight">\(\hat{\ZZ}\)</span> as the
unit interval and <span class="math notranslate nohighlight">\(\hat{\ZZ} \times \hat{\ZZ}\)</span> as the unit square. It is
implemented in <code class="docutils literal notranslate"><span class="pre">Zhat</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sage</span><span class="p">:</span> <span class="n">Zhat</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">visual</span><span class="p">()</span>
<span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">Zhat</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">visual</span><span class="p">()</span>
<span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">a</span><span class="o">.</span><span class="n">visual</span><span class="p">()</span>
<span class="p">(</span><span class="mi">53</span><span class="o">/</span><span class="mi">60</span><span class="p">,</span> <span class="mi">107</span><span class="o">/</span><span class="mi">120</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">b</span><span class="o">.</span><span class="n">visual</span><span class="p">()</span>
<span class="p">(</span><span class="mi">53</span><span class="o">/</span><span class="mi">60</span><span class="p">,</span> <span class="mi">4453</span><span class="o">/</span><span class="mi">5040</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="graphing-a-profinite-function">
<h2>Graphing a profinite function<a class="headerlink" href="#graphing-a-profinite-function" title="Permalink to this headline">¶</a></h2>
<p>Let <span class="math notranslate nohighlight">\(k\)</span> be a positive integer which we call our <em>precision</em>. Then we can draw
the graph of a function <span class="math notranslate nohighlight">\(F: \hat{\ZZ} \to \hat{\ZZ}\)</span> at precision <span class="math notranslate nohighlight">\(k\)</span> as
follows. For each profinite integer <span class="math notranslate nohighlight">\(x\)</span> of modulus <span class="math notranslate nohighlight">\(k!\)</span>, we compute the image of
the represented subset of <span class="math notranslate nohighlight">\(x\)</span> under <span class="math notranslate nohighlight">\(F\)</span> and we take all profinite integers <span class="math notranslate nohighlight">\(y\)</span>
of modulus <span class="math notranslate nohighlight">\(k!\)</span> whose represented subset intersects this image. Each of
these profinite integers <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> are mapped by the visualization function to
a closed interval. Hence we can draw the points <span class="math notranslate nohighlight">\((x, y)\)</span> as squares in the unit
interval. This is precisely what the class <a class="reference internal" href="#adeles.profinite_graph.ProfiniteGraph" title="adeles.profinite_graph.ProfiniteGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProfiniteGraph</span></code></a> does. See
the documentation of that class for examples.</p>
<p>REFERENCES:</p>
<p>[Her2021] Mathé Hertogh, Computing with adèles and idèles, master’s thesis,
Leiden University, 2021.</p>
<p>[Len2005] Hendrik Lenstra, Profinite Fibonacci numbers, Niew Archief voor
Wiskunde, 5/6(4):297-300, december 2005.
<a class="reference external" href="http://www.nieuwarchief.nl/serie5/pdf/naw5-2005-06-4-297.pdf">http://www.nieuwarchief.nl/serie5/pdf/naw5-2005-06-4-297.pdf</a></p>
<p>This implementation is based on and part of [Her2021]. For details, see Chapter
7 of [Her2021]. The idea of these kinds of graphs is taken from [Len2005].</p>
<p>AUTHORS:</p>
<ul class="simple">
<li><p>Mathé Hertogh (2021-01-15): initial version</p></li>
</ul>
<dl class="py class">
<dt id="adeles.profinite_graph.ProfiniteGraph">
<em class="property">class </em><code class="sig-prename descclassname">adeles.profinite_graph.</code><code class="sig-name descname">ProfiniteGraph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">function</span></em><span class="sig-paren">)</span><a class="headerlink" href="#adeles.profinite_graph.ProfiniteGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Interactive graph of a function from and to profinite integers</p>
<p>Every <code class="xref py py-class docutils literal notranslate"><span class="pre">profinite_function.ProfiniteFunction</span></code> can be graphed, as well
as callables that behave like such profinite functions (see below for
examples).</p>
<p>The graph allows the user to zoom in (and back out) to arbitrary high
precisions. Left-click on an area in the graph to zoom into that area.
Right-click anywhere on the graph to zoom out.</p>
<p>The profinite integers are drawn based on the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">profinite_integer.ProfiniteInteger.visual()</span></code> method of profinite
integers. So <span class="math notranslate nohighlight">\(\hat{\ZZ} \times \hat{\ZZ}\)</span> is identified with the unit square
<span class="math notranslate nohighlight">\([0,1] \times [0,1]\)</span> and a pair of profinite integers (<code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">mod</span> <span class="pre">m</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">mod</span>
<span class="pre">n</span></code>) is identified with a rectangle <span class="math notranslate nohighlight">\([a,b] \times [c,d]\)</span> in the unit square.</p>
<p>The idea of this kind of graph is taken from the paper “Profinite Fibonacci
numbers” by Hendrik Lenstra, cf. [Len2005]. Some default settings such as
the colors to draw in are taken such that the resulting graph looks like the
picture in that paper.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This class uses the standard Python interface package <a class="reference external" href="https://docs.python.org/3/library/tkinter.html">tkinter</a> for its graphical
interface. Make sure that tkinter is installed (which should already be
the case on Windows and most Unix systems) and that the command <code class="docutils literal notranslate"><span class="pre">import</span>
<span class="pre">tkinter</span></code> works.</p>
</div>
<p>EXAMPLES:</p>
<p>We plot the graph of the profinite Fibonacci function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sage</span><span class="p">:</span> <span class="n">g</span> <span class="o">=</span> <span class="n">ProfiniteGraph</span><span class="p">(</span><span class="n">ProfiniteFibonacci</span><span class="p">())</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">g</span><span class="o">.</span><span class="n">set_window_sizes</span><span class="p">(</span><span class="mi">720</span><span class="p">,</span> <span class="mi">720</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">g</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Graph of the profinite Fibonacci function&quot;</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">g</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span> <span class="c1"># optional - tkinter</span>
</pre></div>
</div>
<p>This produces the following image:</p>
<img alt="_images/Fibonacci_graph_0mod1x0mod1.png" src="_images/Fibonacci_graph_0mod1x0mod1.png" />
<p>What do we see here? Lets first look only at the big orange blocks. Above
<code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">mod</span> <span class="pre">6</span></code> on the <span class="math notranslate nohighlight">\(x\)</span>-axis, there are two orange blocks, which on the
<span class="math notranslate nohighlight">\(y\)</span>-axis represent <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">mod</span> <span class="pre">6</span></code> and <code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">mod</span> <span class="pre">6</span></code>. This means that the image of
<span class="math notranslate nohighlight">\(3 + 6 \cdot \hat{\ZZ}\)</span> under the Fibonacci function lies in
<span class="math notranslate nohighlight">\((2 + 6 \cdot \hat{\ZZ}) \cup (4 + 6 \cdot \hat{\ZZ})\)</span>. It also means that
both <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">mod</span> <span class="pre">6</span></code> and <code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">mod</span> <span class="pre">6</span></code> are “hit” by <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">mod</span> <span class="pre">6</span></code>:
<span class="math notranslate nohighlight">\(F(3 + 6 \cdot \hat{\ZZ}) \cap (2 + 6 \cdot \hat{\ZZ}) \neq \emptyset\)</span> and
<span class="math notranslate nohighlight">\(F(3 + 6 \cdot \hat{\ZZ}) \cap (4 + 6 \cdot \hat{\ZZ}) \neq \emptyset\)</span>.</p>
<p>The orange blocks represent the approximation of the graph of the profinite
Fibonacci function of <em>precision</em> 3: it computes the images of the profinite
integers of modulus <span class="math notranslate nohighlight">\(3!\)</span>. In pink, the approximation of precision 4 is
drawn. Hence the pink rectangles all represents subsets of <span class="math notranslate nohighlight">\(\hat{\ZZ} \times
\hat{\ZZ}\)</span> of the form <span class="math notranslate nohighlight">\((x+4!\hat{\ZZ}) \times (y+4!\hat{\ZZ})\)</span>.</p>
<p>By left clicking we zoom in to the area <span class="math notranslate nohighlight">\((3+6\hat{\ZZ}) \times
(2+6\hat{\ZZ})\)</span>, i.e. <code class="docutils literal notranslate"><span class="pre">(3</span> <span class="pre">mod</span> <span class="pre">6)</span> <span class="pre">x</span> <span class="pre">(2</span> <span class="pre">mod</span> <span class="pre">6)</span></code>:</p>
<img alt="_images/Fibonacci_graph_3mod6x2mod6.png" src="_images/Fibonacci_graph_3mod6x2mod6.png" />
<p>Now we see that within <span class="math notranslate nohighlight">\(3+6\hat{\ZZ}\)</span>, the open subsets <span class="math notranslate nohighlight">\(3+24\hat{\ZZ}\)</span> and
<span class="math notranslate nohighlight">\(21+24\hat{\ZZ}\)</span> are actually mapped to <span class="math notranslate nohighlight">\(2+24\hat{\ZZ}\)</span>. Apparently, the
rest of <span class="math notranslate nohighlight">\(3+6\hat{\ZZ}\)</span> (i.e. <span class="math notranslate nohighlight">\(9+24\hat{\ZZ}\)</span> and <span class="math notranslate nohighlight">\(15+24\hat{\ZZ}\)</span>) is mapped
into <span class="math notranslate nohighlight">\(4+6\hat{\ZZ}\)</span>. One could see this by right-clicking anywhere on the
graph to zoom out and than zooming in to the area <code class="docutils literal notranslate"><span class="pre">(3</span> <span class="pre">mod</span> <span class="pre">6)</span> <span class="pre">x</span> <span class="pre">(4</span> <span class="pre">mod</span> <span class="pre">6)</span></code>.</p>
<p>Now within the pink squares, we see brown squares. This is the precision 5
approximation. From this picture one can already see that <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">mod</span> <span class="pre">120</span></code> is
mapped to <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">mod</span> <span class="pre">120</span></code> and that <code class="docutils literal notranslate"><span class="pre">27</span> <span class="pre">mod</span> <span class="pre">120</span></code> is mapped to <code class="docutils literal notranslate"><span class="pre">98</span> <span class="pre">mod</span> <span class="pre">120</span></code>.
But a user can also zoom in again to see this more clearly of course.</p>
<p>Any profinite function (cf. <code class="xref py py-class docutils literal notranslate"><span class="pre">profinite_function.ProfiniteFunction</span></code>)
can be graphed. We can even graph any callable that behaves like a
profinite function. Here is an example of how to produce a graph of the
square function <span class="math notranslate nohighlight">\(\hat{\ZZ} \to \hat{\ZZ}, x \mapsto x^2\)</span>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sage</span><span class="p">:</span> <span class="n">graph</span> <span class="o">=</span> <span class="n">ProfiniteGraph</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">des_mod</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">graph</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Square function&quot;</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">graph</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>  <span class="c1"># optional - tkinter</span>
</pre></div>
</div>
<dl class="py class">
<dt id="adeles.profinite_graph.ProfiniteGraph.View">
<em class="property">class </em><code class="sig-name descname">View</code><a class="headerlink" href="#adeles.profinite_graph.ProfiniteGraph.View" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class stores the state of the “view” of a ProfiniteGraph.</p>
<p>A ProfiniteGraph allows the user to change the view by zooming in and
out to open subsets of <span class="math notranslate nohighlight">\(\hat{\ZZ} \times \hat{\ZZ}\)</span> of the form
<span class="math notranslate nohighlight">\((x + p! \cdot \hat{\ZZ}) \times (y + p! \cdot \hat{\ZZ})\)</span>, i.e.
<code class="docutils literal notranslate"><span class="pre">(x</span> <span class="pre">mod</span> <span class="pre">p!)</span> <span class="pre">x</span> <span class="pre">(y</span> <span class="pre">mod</span> <span class="pre">p!)</span></code>.
Here x, y and p are integers. We call p above the “precision”.</p>
</dd></dl>

<dl class="py method">
<dt id="adeles.profinite_graph.ProfiniteGraph.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#adeles.profinite_graph.ProfiniteGraph.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the interactive graph in a new window</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sage</span><span class="p">:</span> <span class="n">cube_graph</span> <span class="o">=</span> <span class="n">ProfiniteGraph</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">des_mod</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">cube_graph</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>  <span class="c1"># optional - tkinter</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Control flow of the program is handed over to the drawing library
used (<code class="docutils literal notranslate"><span class="pre">Tkinter</span></code>) until the user closes the graph-window.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="adeles.profinite_graph.ProfiniteGraph.set_colors">
<code class="sig-name descname">set_colors</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">approx</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">highlight</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">identity_line</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">axis</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#adeles.profinite_graph.ProfiniteGraph.set_colors" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the colors of the graph</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">approx</span></code> – non-empty list of strings (optional, default is keep the
current setting); colors of the different approximations</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">highlight</span></code> – string (optional, default is keep the current
setting); color of the transparent box that follows the mouse</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">identity_line</span></code> – string (optional, default is keep the current
setting); color of the identity line, see also
<a class="reference internal" href="#adeles.profinite_graph.ProfiniteGraph.set_identity_line" title="adeles.profinite_graph.ProfiniteGraph.set_identity_line"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_identity_line()</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">axis</span></code> – string (optional, default is keep the current setting);
color of the axis and the corresponding coordinate labels (e.g. “1/6”,
“2/3”)</p></li>
</ul>
<p>Strings to denote a color should be formatted in one of the following
ways:</p>
<ul class="simple">
<li><p>A hexadecimal string specifying the red, green and blue portions of
the color, in that order: “#rrggbb”. Examples: “#00ff00” is green,
“#00ffff” is cyan and “#ff0077” is pink.</p></li>
<li><p>A locally defined standard color name. The colors “white”, “black”,
“red”, “green”, “blue”, “cyan”, “yellow”, and “magenta” are always
available. Usually more colors work, like “brown”, but this depends
on your local installation.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sage</span><span class="p">:</span> <span class="n">graph</span> <span class="o">=</span> <span class="n">ProfiniteGraph</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">des_mod</span><span class="p">:</span> <span class="n">Zhat</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">graph</span><span class="o">.</span><span class="n">set_colors</span><span class="p">(</span><span class="n">approx</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;yellow&quot;</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">])</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">graph</span><span class="o">.</span><span class="n">set_colors</span><span class="p">(</span><span class="n">highlight</span><span class="o">=</span><span class="s2">&quot;#efefef&quot;</span><span class="p">,</span> <span class="n">identity_line</span><span class="o">=</span><span class="s2">&quot;#0033aa&quot;</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">graph</span><span class="o">.</span><span class="n">set_colors</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="adeles.profinite_graph.ProfiniteGraph.set_identity_line">
<code class="sig-name descname">set_identity_line</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">draw</span></em><span class="sig-paren">)</span><a class="headerlink" href="#adeles.profinite_graph.ProfiniteGraph.set_identity_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Set whether or not to draw the identity line</p>
<p>By the identity line we mean de graph of the identity function on
<span class="math notranslate nohighlight">\(\hat{\ZZ}\)</span>, i.e. “<span class="math notranslate nohighlight">\(x = y\)</span>”. We draw this as an actual line (with zero
surface area). This can be useful to find fixed points of the function
you are graphing. This is for example done in the paper [Len2005] for
the graph of the Fibonacci function.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(draw\)</span> – boolean; whether or not to draw the identity line</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sage</span><span class="p">:</span> <span class="n">graph</span> <span class="o">=</span> <span class="n">ProfiniteGraph</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">des_mod</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">graph</span><span class="o">.</span><span class="n">set_identity_line</span><span class="p">(</span><span class="n">draw</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>To set the color of the identity line, see <a class="reference internal" href="#adeles.profinite_graph.ProfiniteGraph.set_colors" title="adeles.profinite_graph.ProfiniteGraph.set_colors"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_colors()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="adeles.profinite_graph.ProfiniteGraph.set_minimal_axis_distance">
<code class="sig-name descname">set_minimal_axis_distance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">min_axis_distance</span></em><span class="sig-paren">)</span><a class="headerlink" href="#adeles.profinite_graph.ProfiniteGraph.set_minimal_axis_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the minimal axis distance</p>
<p>We usualy draw axes at two different precisions. But if you zoom in very
far, the axes with the highest precision start taking up (almost) the
whole graph. Hence if two such consecutive axes are less than a certain
number of pixels apart, we don’t draw them any more; we only draw the
lowest precision axis. This minimal number of pixels that these axes
should be apart we call the “minimal axis distance”.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">min_axis_distance</span></code> – integer; the new minimal axis distance</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sage</span><span class="p">:</span> <span class="n">graph</span> <span class="o">=</span> <span class="n">ProfiniteGraph</span><span class="p">(</span><span class="n">ProfiniteFibonacci</span><span class="p">())</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">graph</span><span class="o">.</span><span class="n">set_minimal_axis_distance</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>To set the color of the axis, see <a class="reference internal" href="#adeles.profinite_graph.ProfiniteGraph.set_colors" title="adeles.profinite_graph.ProfiniteGraph.set_colors"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_colors()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="adeles.profinite_graph.ProfiniteGraph.set_minimal_draw_area">
<code class="sig-name descname">set_minimal_draw_area</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">min_area</span></em><span class="sig-paren">)</span><a class="headerlink" href="#adeles.profinite_graph.ProfiniteGraph.set_minimal_draw_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the minimal draw area of this graph to <code class="docutils literal notranslate"><span class="pre">min_area</span></code></p>
<p>We only draw approximations up to a precision such that we can still
see the rectangles drawn for pairs <span class="math notranslate nohighlight">\((x, y)\)</span> in <span class="math notranslate nohighlight">\(\hat{\ZZ} \times
\hat{\ZZ}\)</span>. The minimal area in pixels a rectangle representing such a
point <span class="math notranslate nohighlight">\((x, y)\)</span> must have to be drawn is called the “minimal draw area”.
This method sets this minimal draw area.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">min_area</span></code> – integer; the new minimal draw area, in pixels</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sage</span><span class="p">:</span> <span class="n">graph</span> <span class="o">=</span> <span class="n">ProfiniteGraph</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">des_mod</span><span class="p">:</span> <span class="n">x</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">graph</span><span class="o">.</span><span class="n">set_minimal_draw_area</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="adeles.profinite_graph.ProfiniteGraph.set_title">
<code class="sig-name descname">set_title</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">title</span></em><span class="sig-paren">)</span><a class="headerlink" href="#adeles.profinite_graph.ProfiniteGraph.set_title" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the title of the graph-window to <code class="docutils literal notranslate"><span class="pre">title</span></code></p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">title</span></code> – string; the new title</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sage</span><span class="p">:</span> <span class="n">graph</span> <span class="o">=</span> <span class="n">ProfiniteGraph</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">des_mod</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">graph</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Graph of square-function&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sage</span><span class="p">:</span> <span class="n">graph</span> <span class="o">=</span> <span class="n">ProfiniteGraph</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">des_mod</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">graph</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="mi">79</span><span class="p">)</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="o">...</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="n">title</span> <span class="n">should</span> <span class="n">be</span> <span class="n">a</span> <span class="n">string</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="adeles.profinite_graph.ProfiniteGraph.set_window_sizes">
<code class="sig-name descname">set_window_sizes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">height</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">border</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">footer</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#adeles.profinite_graph.ProfiniteGraph.set_window_sizes" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the sizes in pixels of the graph window</p>
<p>We define sizes in pixels of parts of the window, as depicted in
ASCII-art below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-----------------------------------------------------------</span>
<span class="o">|</span>            <span class="o">^</span>                                            <span class="o">|</span>
<span class="o">|</span>            <span class="o">|</span><span class="n">border</span>                <span class="mi">1</span> <span class="n">mod</span> <span class="mi">2</span>               <span class="o">|</span>
<span class="o">|</span>         <span class="mi">0</span>  <span class="n">v</span>              <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>                 <span class="mi">1</span>         <span class="o">|</span>
<span class="o">|</span>        <span class="mi">1</span><span class="o">-------------------|-------------------</span><span class="mi">1</span>        <span class="o">|</span>
<span class="o">|</span> <span class="n">border</span>  <span class="o">|</span>     <span class="o">^</span>                               <span class="o">|</span> <span class="n">border</span>  <span class="o">|</span>
<span class="o">|&lt;-------&gt;|</span>     <span class="o">|</span>            <span class="n">width</span>              <span class="o">|&lt;-------&gt;|</span>
<span class="o">|</span>         <span class="o">|&lt;-----------------------------------&gt;|</span>         <span class="o">|</span>
<span class="o">|</span>         <span class="o">|</span>     <span class="o">|</span>                               <span class="o">|</span> <span class="mi">1</span> <span class="n">mod</span> <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>         <span class="o">|</span>     <span class="o">|</span>                               <span class="o">|</span>         <span class="o">|</span>
<span class="o">|</span>         <span class="o">|</span>     <span class="o">|</span>                               <span class="o">|</span>         <span class="o">|</span>
<span class="o">|</span>      <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="o">|</span>     <span class="o">|</span>                               <span class="o">|</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span>      <span class="o">|</span>
<span class="o">|</span>         <span class="o">|</span>     <span class="o">|</span>                               <span class="o">|</span>         <span class="o">|</span>
<span class="o">|</span>         <span class="o">|</span>     <span class="o">|</span><span class="n">height</span>                         <span class="o">|</span>         <span class="o">|</span>
<span class="o">|</span> <span class="mi">0</span> <span class="n">mod</span> <span class="mi">2</span> <span class="o">|</span>     <span class="o">|</span>                               <span class="o">|</span> <span class="mi">0</span> <span class="n">mod</span> <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>         <span class="o">|</span>     <span class="o">|</span>                               <span class="o">|</span>         <span class="o">|</span>
<span class="o">|</span>         <span class="o">|</span>     <span class="n">v</span>                               <span class="o">|</span>         <span class="o">|</span>
<span class="o">|</span>        <span class="mi">0</span><span class="o">-------------------|-------------------</span><span class="mi">0</span>        <span class="o">|</span>
<span class="o">|</span>         <span class="mi">0</span>  <span class="o">^</span>              <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>                 <span class="mi">1</span>         <span class="o">|</span>
<span class="o">|</span>            <span class="o">|</span><span class="n">border</span>                <span class="mi">1</span> <span class="n">mod</span> <span class="mi">2</span>               <span class="o">|</span>
<span class="o">|</span>   <span class="n">_</span>   <span class="n">_</span>   <span class="n">_v</span>  <span class="n">_</span>   <span class="n">_</span>   <span class="n">_</span>   <span class="n">_</span>   <span class="n">_</span>   <span class="n">_</span>   <span class="n">_</span>   <span class="n">_</span>   <span class="n">_</span>   <span class="n">_</span>   <span class="n">_</span> <span class="o">|</span>
<span class="o">|</span>            <span class="o">^</span>                                            <span class="o">|</span>
<span class="o">|</span>            <span class="o">|</span><span class="n">footer</span>    <span class="n">currenty</span> <span class="n">viewing</span><span class="p">:</span> <span class="o">...</span>             <span class="o">|</span>
<span class="o">|</span>            <span class="n">v</span>                                            <span class="o">|</span>
<span class="o">-----------------------------------------------------------</span>
</pre></div>
</div>
<p>Note that width and height are <em>not</em> the width and height of the full
window.</p>
<p>For the best drawing results, make sure k! divides width and height,
for a “high” value of k (at least 4!, but strive for 5!).</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sage</span><span class="p">:</span> <span class="n">graph</span> <span class="o">=</span> <span class="n">ProfiniteGraph</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">des_mod</span><span class="p">:</span> <span class="n">Zhat</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">graph</span><span class="o">.</span><span class="n">set_window_sizes</span><span class="p">(</span><span class="mi">720</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Profinite Graphs</a><ul>
<li><a class="reference internal" href="#factorial-digits">Factorial digits</a></li>
<li><a class="reference internal" href="#the-visualization-function">The visualization function</a></li>
<li><a class="reference internal" href="#graphing-a-profinite-function">Graphing a profinite function</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="profinite_function.html"
                        title="previous chapter">Profinite Functions</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="matrix.html"
                        title="next chapter">Adèlic Matrix Factorization</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/profinite_graph.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="matrix.html" title="Adèlic Matrix Factorization"
             >next</a> |</li>
        <li class="right" >
          <a href="profinite_function.html" title="Profinite Functions"
             >previous</a> |</li>
  
    
      <a href="../index.html"><img src="_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="index.html">Home</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Profinite Graphs</a></li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Mathé Hertogh.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* The sidebar toggle adapts its height to the bodywrapper height. */
    const resizeObserver = new ResizeObserver(entries => {
        tog.height(bod.height());
    });
    resizeObserver.observe(bod[0]);

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>